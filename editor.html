<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Esther's Personal Pet</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&family=Rubik:ital,wght@0,300..900;1,300..900&family=Viaoda+Libre&display=swap" rel="stylesheet">
</head>
<body>
<div class="scale-wrapper">
  <div class="container">
    <h1>Esther's Personal Pet</h1>
    <h2>Add a Nice Message!</h2>
    <input id="messageInput" type="text"/>
    <button class="save-button" id="saveMessageButton">Save</button>  
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const saveButton = document.getElementById('saveMessageButton');
  const messageInput = document.getElementById('messageInput');

  if (saveButton && messageInput) {
    saveButton.addEventListener('click', async () => {
      const message = messageInput.value.trim();
      if (!message) return alert("Enter a message");

      try {
        await fetch('/api/put_message', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ dailyMessage: message })
        });

        alert("Saved ❤️");
        messageInput.value = "";
      } catch (err) {
        console.error(err);
      }
    });
  }
});

</script>
</body>
</html>